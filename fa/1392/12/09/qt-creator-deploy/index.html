<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fa" lang="fa">
<head>
  <link href="//gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.113.0">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>نصب آسان نرم‌افزار از طریق Qt Creator &middot; اختاپوس خسته</title>

    
  <link type="text/css" rel="stylesheet" href="https://soroush.github.io/fa/css/print.css" media="print">
  <link type="text/css" rel="stylesheet" href="https://soroush.github.io/fa/css/poole.css">
  <link type="text/css" rel="stylesheet" href="https://soroush.github.io/fa/css/syntax.css">
  <link type="text/css" rel="stylesheet" href="https://soroush.github.io/fa/css/hyde.css">
  <link type="text/css" rel="stylesheet" href="https://soroush.github.io/fa/css/fontello.css">
  <link type="text/css" rel="stylesheet" href="https://soroush.github.io/fa/css/hyde-rtl.css"><link type="text/css" rel="stylesheet" href="https://soroush.github.io/fa/css/poole-rtl.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700">


  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_SVG">
</script> 
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    "HTML-CSS": {
    styles: {
        ".MathJax .mo, .MathJax .mi": {color: "black ! important"}
    }
    }
});
</script> 




</head>

  <body class=" layout-reverse">
  <aside class="sidebar">
  <div class="container sidebar-sticky-top">
    <div class="sidebar-about">
       <img style="border-radius:50%; background:#fafafa" src="https://soroush.github.io/fa//static/images/octo.svg" alt="Avatar">
    </div>
  </div>
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="https://soroush.github.io/fa/"><h1>اختاپوس خسته</h1></a>
      <p class="lead">
       یادداشت‌هایی دربارهٔ برنامه‌نویسی و زندگی 
      </p>
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li><a href="https://github.com/soroush/">&#x202d;<i class="icon-github-circled"></i>soroush&#x202c;</a></li>
        
      </ul>
    </nav>

    <p><a href="https://soroush.github.io/fa/">[فارسی]</a> <a href="https://soroush.github.io/en/">[English]</a> </p>
    <p>حق نشر محفوظ است.</p>
  </div>
</aside>

    <main class="content container">
    <div class="post"><h1>نصب آسان نرم‌افزار از طریق Qt Creator</h1><time datetime="2014-02-28T00:00:00Z" class="post-date"> جمعه، ۹ اسفند ۱۳۹۲ </time><p>روند کلی توسعهٔ نرم‌افزار با استفاده از ساختارهای کیوت خیلی سرراست و ساده هست.
با این وجود ممکنه گاهی اوقات بعضی کارهای تکراری کسل‌کننده به‌نظر برسه. همگی
می‌دونیم که کسل‌کنندگی بزرگترین دشمن گیک‌ها (و البته گیگتوپوس‌ها) هست. خوشبختانه
توسعه‌دهنده‌های کیوت‌کریتور همگی گیک هستند و راه‌حل‌های مؤثری برای این کارها
درنظر گرفته شده.</p>
<p>اگر بخوایم یه کتابخانهٔ جدید رو با استفاده از کیوت بنویسیم، مسلماً بعد از یه
مدتی دلمون می‌خواد که تست‌ش کنیم. خوب بهترین راه تست کردن یه کتابخونه اینه که
اونو روی سیستم نصب کنیم و سوئیت تست رو اجرا کنیم. (البته اگر سوئیت تست براش
نوشته باشیم!) روال کلی نصب به این شکله که شما اول دستور make رو اجرا می‌کنید،
اگر برنامه درست کامپایل شد و همه‌چیز به‌خوبی پیش رفت، دستور sudo make install رو
وارد می‌کنید. با این دستور کتابخونهٔ شما در مسیرهای پیش‌فرض (که qmake به make
گفته و make از سیستم یاد گرفته) نصب میشه.</p>
<p>مشکل از جایی شروع میشه که یکی بخواد از متدولوژی TDD برای توسعهٔ نرم‌افزارش
استفاده کنه. در این صورت کوچک‌ترین تغییری که توی کدها ایجاد کنه باید تست بشه؛ و
برای تست کل کارهای کسل‌کنندهٔ بالا باید تکرار بشه. خوب ما می‌خوایم راهی داشته
باشیم که دیگه ترمینال رو باز نکنیم و هی دستورات تکراری توش ننویسیم. توی این پست
راه‌حلی رو معرفی می‌کنم که مستقیماً از طریق کریتور و بدون باز کردن ترمینال
بتونیم برنامه‌مون رو روی سیستم (با دسترسی روت) نصب کنیم :)</p>
<!-- raw HTML omitted -->
<p>برای این کار از روش Deployment استفاده می‌کنیم. برای این کار از نوار کناری
برگهٔ Project رو انتخاب کنید. (و یا کلید Ctrl+5 رو بزنید) از  صفحهٔ از
قسمت‌کیت‌ها Run رو انتخاب کنید. (بغل‌دست Build) (موتعسفانه کلید میان‌بر نداره)
خوب از قسمت Run Settings می‌تونیم بخش Deployment رو ببینیم. این‌جا به‌طور
پیش‌فرض یک پیکربندی خالی وجود داره که هیچ دستوری رو اجرا نمی‌کنه و طبیعتاً هیچ
کاری هم انجام نمیده:</p>
<figure><img src="/fa/static/images/qt-creator-deploy.png"/><figcaption>
            <h4>‫تنظیمات Deploy‬</h4>
        </figcaption>
</figure>

<p>۱. روی دکمهٔ Rename کلیک می‌کنیم و یه اسم درست و حسابی برای کانفیگ‌مون انتخاب
می‌کنیم. مثلاً Local Installation.</p>
<p>۲. از قسمت Add Deploy Step گزینهٔ Custom Process Step رو انتخاب می‌کنیم.</p>
<p>توی جعبهٔ ایجاد شده سه تا پارامتر هست. اولی (Command) دستوری رو که می‌خوایم اجرا
بشه مشخص می‌کنه. دومی (Arguments) همون‌طور که از اسمش تابلوئه، آرگومان‌های اون
دستور رو مشخص می‌کنه. اما سومی (Working Directory) مکانی رو که می‌خوایم دستورمون
توش اجرا بشه رو مشخص می‌کنه. می‌تونیم یه آدرس صریح بهش بدیم، و یا اینکه از
متغیرهای تعریف شده استفاده کنیم. متغیرها خیلی بهترن.</p>
<p>۳. خوب دستوری که می‌خوایم اجرا کنیم sudo هست با آرگومان‌های make install اون هم
در مسیری که کتابخونه‌مون رو توش build کردیم. مشکلی که داریم اینه که sudo رابط
کاربری نیست و پسورد روت رو توی ترمینال (stdin) می‌گیره. خوب ما هم که می‌خواستیم
کلاً ترمینال باز نکنیم! پس از رابط‌های سودو که DE مون مهیا می‌کنه استفاده
می‌کنیم. دسکتاپ من KDE هست پس به‌جای sudo می‌نویسم kdesuo. اگر محیط کاری شما
گنوم هست از gksu استفاده کنید. در آخر یه همچین چیزی میشه:</p>
<figure><img src="/fa/static/images/qt-creator-deploy-settings.png"/><figcaption>
            <h4>دستوری که می‌خواهیم اجرا کنیم</h4>
        </figcaption>
</figure>

<p>حالا اگر از منوی Build گزینهٔ Deploy Project رو بزنیم، ازمون پسورد روت پرسیده
میشه و کل کتابخونه‌ها (یا برنامه‌مون) توی سیستم نصب میشه:</p>
<p><figure><img src="/fa/static/images/qt-creator-deploy-in-menu.png"/><figcaption>
            <h4>‫آیتم Deploy در منو‬</h4>
        </figcaption>
</figure>

و
<figure><img src="/fa/static/images/qt-creator-deploy-kdesu.png"/><figcaption>
            <h4>‫پرسیدن پسورد روت توسط kdesu‬</h4>
        </figcaption>
</figure>
</p>
<p>با این حال میشه حد و مرزهای تنبلی رو فراتر هم برد مثلاً من به عنوان یک اختاپوس
خسته حوصله نمی‌کنم گزینه‌ای رو از بین منوها پیدا کنیم و روش کلیک کنم. برای همین
برای Deploy یک کلید میان‌بُر تعیین می‌کنم که با زدن اون کلید کتابخونه‌مو نصب
کنم. برای این کار از منوی Tools آخرین آیتم یعنی Options رو انتخاب کنید، از
پنجرهٔ باز شده، توی تب کناری، اولین آیتم (یعنی Environment) رو انتخاب کنید، از
تب وسط صفحه، برگهٔ Keyboar رو باز کنید. حالا توی قسمت Filter بنویسید Deply که
راحت‌تر پیدا کنید. از لیست فیلتر شده آیتم Deploy رو انتخاب کنید و توی
قسمت Key Sequence کلید میان‌بری رو که می‌خواید براش انتصاب بشه، بزنید. مثلاً من
زدم Ctrl+Shift+D :</p>
<figure><img src="/fa/static/images/qt-creator-deploy-options.png"/><figcaption>
            <h4>کلید میان‌بر‬</h4>
        </figcaption>
</figure>

<p>خوب این تنظیمات برای نصب کتابخانهٔ نرم‌افزاری روی سیستم‌های مبتنی‌بر لینوکس بود.
تقریباً همهٔ برنامه‌هایی که من می‌نویسم چندسکویی هستند بنابراین باید برای ویندوز
هم بتونم روال مشابه رو تکرار کنم. برای این کار تمام مراحل قبلی رو با یک کانفیگ
جدید به اسم MinGW Install انجام میدم. پارامترها این‌ها خواهند بود:
{% codeblock  %}
Command: mingw32-make
Arguments: install INSTALL_ROOT=c:/mingw64/
Working Directory:%{buildDir}
{% endcodeblock %}
در واقع امکانات توزیع در کریتور برای توزیع نرم‌افزارها با روش‌های بومی پلتفرم‌ها
درنظر گرفته شده. ولی چیزی نمی‌تونه باعث بشه که ازش به منظور دیگه‌ای استفاده
نکنیم. مثلاً توزیع نرم‌افزار روی سیستم خودمون و یا حتا برای ساخت پکیج‌های
نرم‌افزاری بومی به شکلی کاملاً اتوماتیک :) دقت داشته باشید که می‌تونید هر تعداد
کانفیگ برای توزیع نرم‌افزارتون داشته باشید. مثلاً میشه با این کانفیگ از روی یک
ریلیز خاص سورس، تاربال درست کرد:</p>
<figure><img src="/fa/static/images/qt-creator-deploy-make-tarball.png"/><figcaption>
            <h4>‫ساخت tarball از روی نسخهٔ ۰٫۱٫۳‬</h4>
        </figcaption>
</figure>

<p>من دوست دارم ابزارها و کتابخانه‌های متن‌بازم رو پکیج می‌کنم و روی یک رپوزیتوری
دبین شخصی (PPA) روی اینترنت می‌ذارم. همین کار رو هم میشه مستقیم از طریق کریتور
انجام داد! تعداد مراحلش خیلی بیشتره برای همین توضیح نمیدم. نتیجه‌ش این میشه که
مستقیم از روی سور پکیج می‌سازم، اون پکیج رو مستقیم با کلید خصوصی‌م رمز می‌کنم،
می‌ذارمش روی لانچپد! و همهٔ این کارها رو تنها با زدن کلید Ctrl+Shift+D انجام
میدم. این‌ها پکیج‌هایی هستند که با این روش ساختم و روی رپوزیتوری
<a href="https://launchpad.net/~soroush-r/+archive/solap">SOLAP</a> (Soroush&rsquo;s own Libraries and Programs)
منتشر کردم:
<figure><img src="/fa/static/images/solap.png"/><figcaption>
            <h4>پکیج‌های رپوزیتوری شخصی من‬</h4>
        </figcaption>
</figure>
</p>
</div><h2>دیدگاه‌ها</h2><div id="disqus_thread"></div>
<script type="application/javascript">
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "khtpws-khsth" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </main>

    
  </body>
</html>
