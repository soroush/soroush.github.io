<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[طبقه‌بندی‌هاelectronics,fun,پروژه,الکترونیک | اختاپوس خسته]]></title>
  <link href="http://soroush.github.io/categories/electronics-fun-prwjh-lkhtrwnykh/atom.xml" rel="self"/>
  <link href="http://soroush.github.io/"/>
  <updated>2017-09-16T00:20:07+04:30</updated>
  <id>http://soroush.github.io/</id>
  <author>
    <name><![CDATA[سروش]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[مستراح‌بان (:]]></title>
    <link href="http://soroush.github.io/blog/wc-indicator/"/>
    <updated>2017-05-29T00:00:00+04:30</updated>
    <id>http://soroush.github.io/blog/wc-indicator</id>
    <content type="html"><![CDATA[<p>پروژهٔ «مستراح‌بان» اسمی هست که روی یکی از پروژه‌های جالب و البته بسیار به‌دردبخور که اخیراً کار کردم گذاشتم (:
این پروژه تلاشی بود برای حل یکی از معضلات شرکت ما که البته همگی ازش شاکی هستیم اما در موردش صحبت نمی‌کنیم:
مشکل کمبود سرویس‌های بهداشتی.</p>

<p>این پروژه کاملاً الکترونیکی بود و من هیچ تخصصی در زمینهٔ الکترونیک ندارم. برای همین برام خیلی سخت بود که
با مفاهیم مرتبط کار کنم و درکشون کنم. البته مقدار زیادی از دوستانم که متخصص الکترونیک هستند کمک گرفتم.</p>

<!--more-->


<h2>صورت‌مسأله</h2>

<p>ما توی شرکت فقط یه سرویس بهداشتی برای هر طبقه داریم.
یعنی یکی برای هر ۱۶ تا ۲۰ نفر. خوب این باعث میشه که خیلی از مواقع هنگام رجوع به مکان موردنظر
به در بسته بخوریم. اگر به میزان کافی بدشانس باشیم ممکنه در طول روز چندین بار مراجعه کنیم. مشکل وقتی خیلی حاد میشه که
مراجعات ما دقیقاً روی زمان‌هایی که کس دیگری داخل هست انجام بشه.
این یک مسألهٔ کلاسیک توی سیستم‌عامل هست به اسم
<a href="https://fa.wikipedia.org/wiki/%DA%AF%D8%B1%D8%B3%D9%86%DA%AF%DB%8C_%D9%85%D9%86%D8%A7%D8%A8%D8%B9"><strong>گرسنگی</strong></a>
یا همون
<a href="https://en.wikipedia.org/wiki/Starvation_(computer_science"><strong>Starvation</strong></a>).</p>

<p>برای حل این مشکل روش‌های متعددی وجود داره.
مثلا میشه تعداد سرویس‌های بهداشتی رو بیشتر کرد. (در حالت ایده‌آل یکی به‌ازای هر نفر) اما خوب محدودیت‌هایی هست
که اجازه نمیده این کار رو انجام بدیم. مثلاً این که اگر شرکت نیروی جدیدی گرفت باید براش یک سرویس جدید بسازیم. و این یعنی کلی کار ساختمونی .</p>

<h2>راه حل پیشنهادی</h2>

<p>راه حل یک سرویس برای هر نفر با شکست مواجه شد.
بنابراین من و همکارانم در طول ماه‌های گذشته در مورد راه‌حل‌های دیگه برای این مسأله همیشه بحث و بررسی می‌کردیم.
یکی از راه حل‌های خوبی که برای این مشکل پیشنهاد شد این بود که مکانیزمی طراحی کنیم که
هرکسی قبل از بلند شدن از سرجای خودش بتونه از وضعیت سرویس اطلاع پیدا کنه. برای این کار من یک روشی پیشنهاد دادم شامل یک فرستنده و تعدادی
گیرنده. فرستنده به قفل در وصل میشه و هر وقت کسی در سرویس بهداشتی رو از پشت بست
شروع می‌کنه به ارسال پیام. این پیام به سادگی شامل یک اطلاعات ساده هست که مشخص می‌کنه که کسی داخل هست یا نه.
و وقتی که قفل در باز شد، ارسال پیام متوقف میشه. به این ترتیب گیرنده‌ها زمانی که کسی داخل سرویس نیست فقط یک
چراغ سبز و زمانی که کسی داخل هست یک چراغ قرمز چشمک‌زن رو روشن خواهد کرد.</p>

<p>طرح پیشنهادی از اجزای الکترونیکی خیلی ساده استفاده می‌کنه. بعدها میشه این طرح رو گسترش داد و چیزهای باحال‌تری مثل
وای‌فای بهش اضافه کرد. وای‌فای مربوطه می‌تونه یک وب‌سرویس از سرورهای پورتال رو صدا بزنه و اعلام وضعیت کنه.
به این ترتیب افراد شرکت وضعیت دسشویی‌های هر طبقه رو می‌تونن توی پورتال عمومی
مشاهده کنند و مثلاً برن یه طبقهٔ دیگه.</p>

<h2>جزئیات و مدار</h2>

<p>دو مدار ساده برای این کار طراحی کردم که یک فرستنده و یک گیرنده هستند.
پروتکل ارتباطی بین این دو بورد از نوع
<a href="https://en.wikipedia.org/wiki/70-centimeter_band">433 Mhz</a>
با
<a href="https://fa.wikipedia.org/wiki/%DA%A9%D9%84%DB%8C%D8%AF%DA%AF%D8%B0%D8%A7%D8%B1%DB%8C_%D8%AA%D8%BA%DB%8C%DB%8C%D8%B1_%D8%AF%D8%A7%D9%85%D9%86%D9%87">مدولاسیون تغییر دامنه</a>
که با قیمت ارزونی در دسترس هست. در ادامه جزئیات این بوردها و قطعات رو توضیح میدم.</p>

<h3>فرستنده</h3>

<p>برای درست کردن یک مدار چشمک‌زن راه‌های زیادی وجود داره. می‌تونیم از یک میکروکنترلر سادهٔ هشت‌بیتی
و هشت‌پایه (مثلاً
<a href="https://www.sparkfun.com/products/9378">ATTiny</a>
) استفاده کرد. اما راه‌های ساده‌تر و ارزون‌تری هم وجود داره.
مثلاً استفاده از آی‌سی فوق‌العاده به‌دردبخور و ارزون‌قیمت
<a href="https://www.sparkfun.com/products/9273">تایمر 555</a>
که می‌تونه با تغییر مقاومت‌ها و خازن‌های متصل به پایه‌ها موج مربعی با فرکانس‌های مختلف
تولید کنه.</p>

<p>من این موج سیگنال تولید شده رو مستقیم وصل کردم به فرستنده و البته سر راهش یه
انشعاب هم گرفتم به یه دیود نوری که با یه ترانزیستور درایو میشه. مدار کامل رو می‌تونید توی شکل ببینید.
(برای دیدن سایز واقعی روی تصویر کلیک کنید)
<a href="/images/posts/wc-watcher/transmitter-color.png"><img class="center" src="/images/posts/wc-watcher/transmitter-color.png" title="مدار فرستندهٔ مستراح‌بان" ></a></p>

<p>اما بورد این مدار چالش خیلی پیچیده‌تری بود. اول سعی کردم بورد رو به شکل یک‌لایه طراحی کنم که هزینه‌ش
کمتر بشه. بعدها حس کردم که نمیشه یک‌لایه باشه! بعد روشی پیدا کردم که اثبات می‌کرد چه گراف‌هایی می‌تونن
مسطح باشن. (در مورد گراف‌های غیرمسطح اما نظری نمیده) این قضیه میگه که اگر گرافی شرط زیر رو داشته باشه
<strong>می‌تونه</strong> مسطح باشه:</p>

<p>$$e \leq 3v-6$$</p>

<p>(برای توضیحات بیشتر می‌تونید صفحهٔ ویکی‌پدیای
<a href="https://fa.wikipedia.org/wiki/%DA%AF%D8%B1%D8%A7%D9%81_%D9%85%D8%B3%D8%B7%D8%AD">گراف‌های مسطح</a>
رو ببینید.)</p>
]]></content>
  </entry>
  
</feed>
