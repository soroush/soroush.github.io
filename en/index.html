<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <link href="//gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.68.3" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>The Bored Octopus</title>

    
  <link type="text/css" rel="stylesheet" href="https://soroush.github.io/en/css/print.css" media="print">
  <link type="text/css" rel="stylesheet" href="https://soroush.github.io/en/css/poole.css">
  <link type="text/css" rel="stylesheet" href="https://soroush.github.io/en/css/syntax.css">
  <link type="text/css" rel="stylesheet" href="https://soroush.github.io/en/css/hyde.css">
  <link type="text/css" rel="stylesheet" href="https://soroush.github.io/en/css/fontello.css">
  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700">


  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  <link href="https://soroush.github.io/en/index.xml" rel="alternate" type="application/rss+xml" title="The Bored Octopus" />
  
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_SVG">
</script> 
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    "HTML-CSS": {
    styles: {
        ".MathJax .mo, .MathJax .mi": {color: "black ! important"}
    }
    }
});
</script> 




</head>

  <body class=" ">
  <aside class="sidebar">
  <div class="container sidebar-sticky-top">
    <div class="sidebar-about">
       <img style="border-radius:50%; background:#fafafa" src="https://soroush.github.io/en//static/images/octo.svg" alt="Avatar">
    </div>
  </div>
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="https://soroush.github.io/en/"><h1>The Bored Octopus</h1></a>
      <p class="lead">
       Notes on Life and Engineering 
      </p>
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li><a href="https://github.com/soroush/">&#x202d;<i class="icon-github-circled"></i>soroush&#x202c;</a></li>
        
      </ul>
    </nav>

    <p><a href="https://soroush.github.io/fa/">[فارسی]</a> <a href="https://soroush.github.io/en/">[English]</a> </p>
    <p>All rights reserved.</p>
  </div>
</aside>

    <main class="content container">
    <div class="posts">
<article class="post">
  <h1 class="post-title">
    <a href="https://soroush.github.io/en/2020/08/13/pimpl-idiom-in-cpp/">PIMPL idiom in C&#43;&#43;</a>
  </h1>

  <time datetime="2020-08-13T00:00:00Z" class="post-date">Thu, Aug 13, 2020</time>

  <p>Developers working on a &ldquo;software library&rdquo; in C++ (or any other
native language) should follow a set of critically important rules, or
their customers will soon be in trouble using their product. Some of
these rules are for example
<strong><a href="https://semver.org/">Semantic Versioning</a></strong>, <strong>Good API Design</strong>
and <strong>Keeping Backward Compatibility</strong>. The later one has many aspects
and requires its detailed post. In this post, I will discuss one of
the vastly used techniques in C++ which helps developers to keep
<strong>Backward Compatibility</strong> in binary (ABI) level.</p>
  
  <div class="read-more-link">
    <a href="/en/2020/08/13/pimpl-idiom-in-cpp/">Read More...</a>
  </div>
  
</article><article class="post">
  <h1 class="post-title">
    <a href="https://soroush.github.io/en/2020/08/06/pure-functions-in-cpp/">Pure Functions in C&#43;&#43;‬</a>
  </h1>

  <time datetime="2020-08-06T00:00:00Z" class="post-date">Thu, Aug 6, 2020</time>

  <p>One of the best optimisation features of C++ is declaring functions as <strong>pure</strong>.
This one is less known to developers, though it can be an excellent optimisation
hit for your software. Marking a function with “pure” attribute enables a wide
range of possible optimisations for the compiler. You must declare your pure
functions as such, in all code that cares about performance. In this post, I am
going to show how to use this feature and its effects on generated code.</p>
  
  <div class="read-more-link">
    <a href="/en/2020/08/06/pure-functions-in-cpp/">Read More...</a>
  </div>
  
</article><article class="post">
  <h1 class="post-title">
    <a href="https://soroush.github.io/en/2020/08/05/translating-blog/">English Blog!</a>
  </h1>

  <time datetime="2020-08-05T00:00:00Z" class="post-date">Wed, Aug 5, 2020</time>

  So I started to translate my old Persian content into English, as an exercise (well, mostly out of bordem duo to COVID-19 lockdown&hellip;). I&rsquo;ll keep dates intact. I hope you&rsquo;ll find it interesting&hellip;
  
</article><article class="post">
  <h1 class="post-title">
    <a href="https://soroush.github.io/en/2020/08/02/persian-calendar-in-qt/">Non-Gregorian Calendar Systems in Qt</a>
  </h1>

  <time datetime="2020-08-02T00:00:00Z" class="post-date">Sun, Aug 2, 2020</time>

  <p>For Iranian general public, working with date and time in a computer system has always
been challenging. As opposed to - almost - entire population of the planet, we use a
different calendar system (actually a better one!) but computer systems are not
designed and developed with non-Gregorian calendaring in mind. So we always have
to use unconventional methods and hacks to provide functionality of
the official calendar of the country - Solar Hijri&hellip;</p>
<p>Personally, for me the absence of the Solar Hijri calendar in Qt has always
been annoying. Whenever I wanted to work with date and time in my C++ GUI
applications, I had two options: Either use my own custom widgets (which where
not as good as Qt&rsquo;s widgets), or simply use the Gregorian calendar (which is
annoying for the final user).</p>
<p>Since version 4.6, right after I released Persian translation of Qt, I was
thinking of implementing the solar calendar for this
framework. Unfortunately, in that time it was not possible to implement it for
many reasons. However, I made some prototypes, but it did not make it to Qt5.
Qt5 had its own sad story, with the premature release of version 5.0; the
opportunity created by changing the major version was also missed.
Though finally, after 6 years and forgetting all about calendars, I had the
chance to implement the solar Hijri calendar for Qt 5.10. The final version has been
released with Qt 5.14 on December 12, 2019. This post describes challenges, and
the process of the work, and also the API itself.</p>
<figure>
    <img src="/en/static/images/jalali.gif"/> <figcaption>
            <h4>Running Example</h4>
        </figcaption>
</figure>
  
  <div class="read-more-link">
    <a href="/en/2020/08/02/persian-calendar-in-qt/">Read More...</a>
  </div>
  
</article><article class="post">
  <h1 class="post-title">
    <a href="https://soroush.github.io/en/2018/04/13/math-constants-in-cpp/">Mathematical Constants in C&#43;&#43;</a>
  </h1>

  <time datetime="2018-04-13T00:00:00Z" class="post-date">Fri, Apr 13, 2018</time>

  <p>None of C++ standards has defined π number. So every programmer who needs to do
some math including, for example, trigonomerty or statistics, has to define π
herself. Luckily header files have defined π (See <code>M_PI</code> in <code>math.h</code>). Though it
is not ultimately safe and portable to use these constants. It might casue
numeric errors in critical applications. In this blog post, I am going to show a
better way to reach a safe π.</p>
  
  <div class="read-more-link">
    <a href="/en/2018/04/13/math-constants-in-cpp/">Read More...</a>
  </div>
  
</article><article class="post">
  <h1 class="post-title">
    <a href="https://soroush.github.io/en/2017/05/09/worst-ever-bug/">Worst Ever Qt Bug (for me!)</a>
  </h1>

  <time datetime="2017-05-09T00:00:00Z" class="post-date">Tue, May 9, 2017</time>

  <p>I think Qt is one of the best software development frameworks. It has a nice GUI
library alongside with many other tools, provided as a neat and clean API. KDE
desktop environment is almost entirely based on Qt framework. I&rsquo;ve been using it
for a decade now, and I have successfully delivered dozens of projects &ndash; both
embedded and desktop &ndash; most of them only using Qt. Though starting from version
5.3, a tiny bug has appeared in the core library, that makes life difficult for
me: It is impossible to insert invisible characters in Qt&rsquo;s text engine. That is
you can&rsquo;t type ZWNJ, ZWJ, LRE, RLE and PDF characters. (I have described what
they in this post:
<a href="">Control Charachters and Bi-Directional Text</a>.
The effect of this bug is so huge that makes it impossible for me to use KDE or
any other application that uses Qt. To see how it didn&rsquo;t work for us, imagine
being unable to type, for example, &ldquo;space&rdquo; character in any application on your
operating system! In this post I am going to show a workaround and explain how
to fix this bug. It is already fixed in recent versions of Qt, though it is not
in official repositories yet. Fortunately, the workaround is very simple and
does not break anything. Finally I&rsquo;ll provide a patch for 5.9. Hope this helps
someone.</p>
  
  <div class="read-more-link">
    <a href="/en/2017/05/09/worst-ever-bug/">Read More...</a>
  </div>
  
</article>
</div>
    </main>

    
  </body>
</html>
